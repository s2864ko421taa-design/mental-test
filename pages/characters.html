<!-- pages/characters.html -->
<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>タイプ一覧</title>

  <link rel="stylesheet" href="../css/reset.css">
  <link rel="stylesheet" href="../css/tokens.css">
  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="../css/components.css">
  <link rel="stylesheet" href="../css/index.css">
</head>

<body>
  <header class="topbar">
    <div class="topbar__left">
      <div class="title">タイプ一覧</div>
      <div class="subtitle">32タイプ（U/O・M/C・H/L・D/S・R/X）</div>
    </div>
    <div class="topbar__right">
      <a class="btn btn--ghost" href="../index.html">診断へ戻る</a>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <div class="muted">カードをタップすると詳細へ移動します（例：type.html?t=UMHDR）。</div>
    </div>

    <div class="grid" id="grid"></div>
  </main>

  <script type="module">
    import { allTypes, getTypeInfo } from "../js/characters.js";

    const grid = document.getElementById("grid");

    for(const t of allTypes()){
      const info = getTypeInfo(t);

      const a = document.createElement("a");
      a.href = `./type.html?t=${encodeURIComponent(t)}`;

      const tile = document.createElement("div");
      tile.className = "tile";

      const top = document.createElement("div");
      top.className = "tileTop";

      const tag = document.createElement("div");
      tag.className = "tag";
      tag.textContent = info.group.name;

      const dot = document.createElement("div");
      dot.className = "colorDot";
      dot.style.background = info.color;

      top.appendChild(tag);
      top.appendChild(dot);

      const title = document.createElement("div");
      title.className = "tileTitle";
      title.textContent = info.code;

      const sub = document.createElement("div");
      sub.className = "tileSub";
      sub.textContent = info.axesText;

      tile.appendChild(top);
      tile.appendChild(title);
      tile.appendChild(sub);

      a.appendChild(tile);
      grid.appendChild(a);
    }
  </script>
</body>
</html>
